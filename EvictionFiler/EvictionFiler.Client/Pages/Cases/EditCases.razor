@page "/case"
@using EvictionFiler.Application.DTOs
@using EvictionFiler.Application.DTOs.LandLordDto
@using EvictionFiler.Application.DTOs.TenantDto

@* tenant info *@
<div class="mx-auto p-4 border rounded shadow-sm bg-white" style="max-width: 800px;">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="text-navy fw-bold">Tenant Information</h5>
        <button class="btn btn-outline-primary" @onclick="ToggleEditTenant">
            @(isEditingTenant ? "Save" : "Edit")
        </button>
    </div>

    <hr class="border-gold mb-4" />

    <div class="row g-3">
        <div class="col-md-6">
            <label class="form-label">Full Name</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-person"></i></span>
                <input type="text" class="form-control" @bind="tenantDto.Name" readonly="@(!isEditingTenant)" placeholder="Enter full name" />
            </div>
        </div>

        <div class="col-md-6">
            <label class="form-label">SSN</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-shield-lock"></i></span>
                <input type="text" class="form-control" @bind="tenantDto.SSN" readonly="@(!isEditingTenant)" placeholder="Enter SSN" />
            </div>
        </div>

        <div class="col-md-6">
            <label class="form-label">Phone</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-telephone"></i></span>
                <input type="tel" class="form-control" @bind="tenantDto.Phone" readonly="@(!isEditingTenant)" placeholder="Enter phone number" />
            </div>
        </div>

        <div class="col-md-6">
            <label class="form-label">Email</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-envelope"></i></span>
                <input type="email" class="form-control" @bind="tenantDto.Email" readonly="@(!isEditingTenant)" placeholder="Enter email" />
            </div>
        </div>

        <div class="col-md-6">
            <label class="form-label">Language</label>
            <input type="text" class="form-control" @bind="tenantDto.Language" readonly="@(!isEditingTenant)" placeholder="Enter language" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Address</label>
            <input type="text" class="form-control" @bind="tenantDto.Address" readonly="@(!isEditingTenant)" placeholder="Enter address" />
        </div>

        <div class="col-md-4">
            <label class="form-label">Apt #</label>
            <input type="text" class="form-control" @bind="tenantDto.Apt" readonly="@(!isEditingTenant)" placeholder="Enter Apt #" />
        </div>

        <div class="col-md-4">
            <label class="form-label">Borough</label>
            <input type="text" class="form-control" @bind="tenantDto.Borough" readonly="@(!isEditingTenant)" placeholder="Enter borough" />
        </div>

        <div class="col-md-4">
            <label class="form-label">Rent ($)</label>
            <div class="input-group">
                <span class="input-group-text"><i>$</i></span>
                <input type="text" class="form-control" @bind="tenantDto.Rent" readonly="@(!isEditingTenant)" placeholder="Enter rent amount" />
            </div>
        </div>

        <div class="col-md-6">
            <label class="form-label">Lease Status</label>
            <input type="text" class="form-control" @bind="tenantDto.LeaseStatus" readonly="@(!isEditingTenant)" placeholder="Enter lease status" />
        </div>
    </div>
</div>

@* Landlord info *@
<div class="mx-auto p-4 border rounded shadow-sm bg-white mt-4" style="max-width: 800px;">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="text-navy fw-bold">LandLord Information</h5>
        <button class="btn btn-outline-primary" @onclick="ToggleEditLandLord">
            @(isEditingLandLord ? "Save" : "Edit")
        </button>
    </div>

    <hr class="border-gold mb-4" />

    <div class="row g-3">
        <!-- Name/Entity -->
        <div class="col-md-6">
            <label class="form-label">Name/Entity</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-building"></i></span>
                <input type="text" class="form-control" @bind="landLordDto.Name" readonly="@(!isEditingLandLord)" placeholder="Enter name/entity" />
            </div>
        </div>

        <!-- EIN/SSN (last 4) -->
        <div class="col-md-6">
            <label class="form-label">EIN/SSN (last 4)</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-shield-lock"></i></span>
                <input type="text" class="form-control" @bind="landLordDto.EINorSSN" readonly="@(!isEditingLandLord)" placeholder="Enter EIN/SSN" />
            </div>
        </div>

        <!-- Phone -->
        <div class="col-md-6">
            <label class="form-label">Phone</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-telephone"></i></span>
                <input type="text" class="form-control" @bind="landLordDto.Phone" readonly="@(!isEditingLandLord)" placeholder="Enter phone number" />
            </div>
        </div>

        <!-- Email -->
        <div class="col-md-6">
            <label class="form-label">Email</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-envelope"></i></span>
                <input type="email" class="form-control" @bind="landLordDto.Email" readonly="@(!isEditingLandLord)" placeholder="Enter email" />
            </div>
        </div>

        <!-- Mailing Address -->
        <div class="col-md-6">
            <label class="form-label">Mailing Address</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-geo-alt"></i></span>
                <input type="text" class="form-control" @bind="landLordDto.MaillingAddress" readonly="@(!isEditingLandLord)" placeholder="Enter mailing address" />
            </div>
        </div>

        <!-- Attorney (if any) -->
        <div class="col-md-6">
            <label class="form-label">Attorney (if any)</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-person-bounding-box"></i></span>
                <input type="text" class="form-control" @bind="landLordDto.Attorney" readonly="@(!isEditingLandLord)" placeholder="Enter attorney name" />
            </div>
        </div>

        <!-- Firm -->
        <div class="col-md-6">
            <label class="form-label">Firm</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-briefcase"></i></span>
                <input type="text" class="form-control" @bind="landLordDto.Firm" readonly="@(!isEditingLandLord)" placeholder="Enter firm name" />
            </div>
        </div>

        <!-- Is Corporate Owner -->
        <div class="col-md-6">
            <label class="form-label d-block">Is Corporate Owner</label>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="corpOwner" disabled="@(!isEditingLandLord)" @bind="checkbox">
                <label class="form-check-label">Yes</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="corpOwner" disabled="@(!isEditingLandLord)" @bind="checkbox">
                <label class="form-check-label">No</label>
            </div>
        </div>

        <!-- Registered Agent -->
        <div class="col-md-6">
            <label class="form-label">Registered Agent</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-person-vcard"></i></span>
                <input type="text" class="form-control" @bind="landLordDto.RegisteredAgent" readonly="@(!isEditingLandLord)" placeholder="Enter agent name" />
            </div>
        </div>
    </div>
</div>

@* property manager info *@
<div class="mx-auto p-4 border rounded shadow-sm bg-white mt-4" style="max-width: 800px;">
    @* <h5 class="text-center text-navy fw-bold">Property Manager / Building Manager</h5> *@
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="text-navy fw-bold">Property Manager / Building Manager</h5>
        <button class="btn btn-outline-primary" @onclick="ToggleEditPropertyManager">
            @(isEditingPropertyManager ? "Save" : "Edit")
        </button>
    </div>
    <hr class="border-gold mb-4" />

    <div class="row g-3">
        <!-- Company -->
        <div class="col-md-6">
            <label class="form-label">Company</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-building"></i></span>
                <input type="text" class="form-control" @bind="legalcaseDto.Company" readonly="@(!isEditingPropertyManager)" placeholder="Enter company name" />
            </div>
        </div>

        <!-- Contact -->
        <div class="col-md-6">
            <label class="form-label">Contact</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-person"></i></span>
                <input type="text" class="form-control" @bind="legalcaseDto.Contact" readonly="@(!isEditingPropertyManager)" placeholder="Enter contact name" />
            </div>
        </div>

        <!-- Phone/Email -->
        <div class="col-md-6">
            <label class="form-label">Phone / Email</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-telephone"></i></span>
                <input type="text" class="form-control" @bind="legalcaseDto.PhoneorEmail" readonly="@(!isEditingPropertyManager)" placeholder="Enter phone or email" />
            </div>
        </div>

        <!-- MDR # -->
        <div class="col-md-6">
            <label class="form-label">MDR #</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-hash"></i></span>
                <input type="text" class="form-control" @bind="legalcaseDto.MDRNo" readonly="@(!isEditingPropertyManager)" placeholder="Enter MDR number" />
            </div>
        </div>

        <!-- Residential Units -->
        <div class="col-md-6">
            <label class="form-label">Residential Units</label>
            <input type="text" class="form-control" @bind="legalcaseDto.ResidentalUnits" readonly="@(!isEditingPropertyManager)" placeholder="Enter number" />
        </div>

        <!-- Commercial Units -->
        <div class="col-md-6">
            <label class="form-label">Commercial Units</label>
            <input type="text" class="form-control" @bind="legalcaseDto.CommercialUnits" readonly="@(!isEditingPropertyManager)" placeholder="Enter number" />
        </div>

        <!-- DHCR Registered -->
        <div class="col-md-6">
            <label class="form-label d-block">All Units registered with DHCR?</label>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="dhcr" disabled="@(!isEditingPropertyManager)" @bind="dhcrRegistered" />
                <label class="form-check-label">Yes</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="dhcr" disabled="@(!isEditingPropertyManager)" @bind="dhcrRegistered" />
                <label class="form-check-label">No</label>
            </div>
        </div>

        <!-- HPD Violations -->
        <div class="col-md-6">
            <label class="form-label d-block">HPD Violations?</label>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="hpd" disabled="@(!isEditingPropertyManager)" @bind="hpdViolations" />
                <label class="form-check-label">Yes</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="hpd" disabled="@(!isEditingPropertyManager)" @bind="hpdViolations" />
                <label class="form-check-label">No</label>
            </div>
        </div>
    </div>
</div>


@* Building Details *@

@code {
    bool checkbox;
    bool checkbox_other;
    private string dhcrRegistered;
    private string hpdViolations;


    private bool isEditingTenant = false;
    private bool isEditingLandLord = false;
    private bool isEditingPropertyManager = false;


    private void ToggleEditTenant()
    {
        if (isEditingTenant)
        {
            // Optionally: Save tenantDto to database or backend
        }

        isEditingTenant = !isEditingTenant;
    }

    private void ToggleEditLandLord()
    {
        if (isEditingLandLord)
        {
            // Optionally: Save tenantDto to database or backend
        }

        isEditingLandLord = !isEditingLandLord;
    }

    private void ToggleEditPropertyManager()
    {
        if (isEditingPropertyManager)
        {
            // Optionally: Save tenantDto to database or backend
        }

        isEditingPropertyManager = !isEditingPropertyManager;
    }

    private CreateTenantDto tenantDto = new CreateTenantDto();
    private CreateLandLordDto landLordDto = new CreateLandLordDto();
    private CreateEditLegalCaseModel legalcaseDto = new CreateEditLegalCaseModel();

}
