@using Microsoft.AspNetCore.Components.Authorization
@inject NavigationManager Nav
@inject AuthenticationStateProvider AuthState

@code {
    protected override async Task OnInitializedAsync()
    {
        var state = await AuthState.GetAuthenticationStateAsync();

        // If user is NOT authenticated → redirect to Login page
        if (!state.User.Identity?.IsAuthenticated ?? true)
        {
            Nav.NavigateTo("/", true);   // full browser reload
        }
    }
}
